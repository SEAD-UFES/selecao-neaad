
(function(c){function b(e,d){var g=c(e).text().toUpperCase();var f=c(d).text().toUpperCase();return(g<f)?-1:(g>f)?1:0}var a={init:function(d){var e={selectedPosition:"right",moveOptions:true,sortOptions:true,labelTop:"Primeiro",labelBottom:"Último",labelUp:"Subir",labelDown:"Descer",labelSort:"Ordenar",labelsx:"Disponível",labeldx:"Selecionado",maxSelected:-1,autoSort:false,autoSortAvailable:false,search:false,caseSensitive:false,delay:200,optGroupSearch:false,minSize:6,placeHolderSearch:"",widthSelect:250};return this.each(function(){var k=c(this);var H=k.data("multiselect2side");if(d){c.extend(e,d)}if(!H){k.data("multiselect2side",e)}var s=c(this).attr("name");if(s.indexOf("[")!=-1){s=s.substring(0,s.indexOf("["))}var g=s+"ms2side__dx";var m=s+"ms2side__sx";var w=c(this).attr("size");if(w<e.minSize){c(this).attr("size",""+e.minSize);w=e.minSize}var F="<div class='ms2side__updown'>";var z="<button style='height:35px;width:35px;' type='button' class='btn btn-default SelSort' title='Ordenar os itens selecionados'><i class='fa fa-sort-alpha-asc'></i></button>";var j="<button style='height:35px;width:35px;' type='button' class='btn btn-default MoveTop' title='Move o item selecionado para a primeira posição'><i class='fa fa-angle-double-up'></i></button><button style='height:35px;width:35px;' type='button' class='btn btn-default MoveUp' title='Move o item selecionado uma posição acima'><i class='fa fa-angle-up'></i></button><button style='height:35px;width:35px;' type='button' class='btn btn-default MoveDown' title='Move o item selecionado uma posição abaixo'><i class='fa fa-angle-down'></i></button><button style='height:35px;width:35px;' type='button' class='btn btn-default MoveBottom' title='Move o item selecionado para a última posição'><i class='fa fa-angle-double-down'></i></button>";var I="</div>";var y=false,A=false;if(e.search!=false&&e.optGroupSearch!=false){var B=e.optGroupSearch+"<select class='small' ><option value=__null__> </option></select>"+e.search+"<input class='small' type='text' /><a href='#'> </a>";if(e.selectedPosition=="right"){y=B}else{A=B}}else{if(e.search!=false){var B="<div class='completo' style='margin-bottom:1em;'><div class='ms2side__header'><input type='text' placeholder='"+e.placeHolderSearch+"'/><button style='height:35px;width:35px;margin-left:5px;' type='button' class='btn btn-default' title='Limpar'><i class='fa fa-close'></i></button></div></div>";if(e.selectedPosition=="right"){y=B}else{A=B}}else{if(e.optGroupSearch!=false){var B=e.optGroupSearch+"<select><option value=__null__> </option></select>";if(e.selectedPosition=="right"){y=B}else{A=B}}}}var C=e.moveOptions?"40%":"45%";var t=k.attr("id")+"_ms2side";var r="<div id='"+t+"' class='ms2side__div'>"+((e.labelsx||y!=false)?(y!=false?y:e.labelsx):"")+((e.labeldx||A!=false)?(A!=false?A:e.labeldx):"")+((e.selectedPosition!="right"&&e.moveOptions)?F+(e.sortOptions?z:"")+j+I:"")+"<div style='width: "+C+" !important;' class='ms2side__select'><select title='"+e.labelsx+"' name='"+m+"' id='"+m+"' size='"+w+"' multiple='multiple' ></select></div><div class='ms2side__options'>"+((e.selectedPosition=="right")?("<button style='height:35px;width:35px;' type='button' class='btn btn-default AddOne' title='Adicionar selecionado'><i class='fa fa-angle-right'></i></button><button style='height:35px;width:35px;' type='button' class='btn btn-default AddAll' title='Adiconar todos'><i class='fa fa-angle-double-right'></i></button><button style='height:35px;width:35px;' type='button' class='btn btn-default RemoveOne' title='Remover selecionado'><i class='fa fa-angle-left'></i></button><button style='height:35px;width:35px;' type='button' class='btn btn-default RemoveAll' title='Remover todos'><i class='fa fa-angle-double-left'></i></button>"):("<button style='height:35px;width:35px;' type='button' class='btn btn-default AddOne' title='Adicionar selecionado'><i class='fa fa-angle-right'></i></button><button style='height:35px;width:35px;' type='button' class='btn btn-default AddAll' title='Adicionar todos'><i class='fa fa-angle-double-right'></i></button><button style='height:35px;width:35px;' type='button' class='btn btn-default RemoveOne' title='Remover selecionado'><i class='fa fa-angle-left'></i></button><button style='height:35px;width:35px;' type='button' class='btn btn-default RemoveAll' title='Remover todos'><i class='fa fa-angle-double-left'></i></button>"))+"</div><div style='width: "+C+" !important;' class='ms2side__select'><select title='"+e.labeldx+"' name='"+g+"' id='"+g+"' size='"+w+"' multiple='multiple' ></select></div>"+((e.selectedPosition=="right"&&e.moveOptions)?F+(e.sortOptions?z:"")+j+I:"")+"</div>";k.after(r).hide();var v=k.next().children(".ms2side__select").children("select");var i=(e.selectedPosition=="right")?v.eq(0):v.eq(1);var n=(e.selectedPosition=="right")?v.eq(1):v.eq(0);var h=c(".ms2side__select").eq(0).height();var G=c();var f=c(this).next().find("input:text");var q=f.next().hide();var p=false;var x=false;if(e.optGroupSearch!=false){var o=false;G=c(this).next().find("select").eq(0);k.children("optgroup").each(function(){if(G.find("[value='"+c(this).attr("label")+"']").size()==0){G.append("<option value='"+c(this).attr("label")+"'>"+c(this).attr("label")+"</option>")}});G.change(function(){var J=c(this);if(J.val()!=o){if(f.val()!=""){clearTimeout(p);q.hide();f.val("");x=""}setTimeout(function(){if(J.val()=="__null__"){var K=k.find("option:not(:selected)")}else{var K=k.find("optgroup[label='"+J.val()+"']").children("option:not(:selected)")}i.find("option").remove();K.each(function(){i.append(c(this).clone())});o=J.val();i.trigger("change")},100)}})}var u=function(){var J=k.find("option:not(:selected)");o="__null__";G.val("__null__");if(x==f.val()){return}f.removeAttr("style");x=f.val();setTimeout(function(){i.children().remove();if(x==""){J.clone().appendTo(i).prop("selected",false);q.hide()}else{J.each(function(){var L=c(this).text();if(e.caseSensitive){var K=L.indexOf(x)}else{K=L.toUpperCase().indexOf(x.toUpperCase())}if(K!=-1){c(this).clone().appendTo(i).prop("selected",false)}});if(i.children().length==0){f.css({border:"1px red solid"})}q.show()}i.trigger("change")},5)};q.click(function(){clearTimeout(p);f.val("");u();return false});f.keyup(function(){clearTimeout(p);p=setTimeout(u,e.delay)});c(this).find("option:selected").clone().appendTo(n).prop("selected",false);c(this).find("option:not(:selected)").clone().appendTo(i);var D=0;if(e.autoSort){v.change(function(){var J=n.find("option");if(J.length!=D){J.sort(b);n.find("option").remove();J.each(function(){k.find("option[value='"+c(this).val()+"']").remove();n.append(c(this).clone());k.append(c(this).clone().prop("selected",true))});D=J.length}})}var l=0;if(e.autoSortAvailable){v.change(function(){var J=i.find("option");if(J.length!=l){J.sort(b);i.find("option").remove();J.each(function(){i.append(c(this).clone())});l=J.length}})}v.change(function(){var N=c(this).parent().parent();var K=i.children();var M=n.children();var J=i.find("option:selected");var L=n.find("option:selected");if(J.size()==0||(e.maxSelected>=0&&(J.size()+M.size())>e.maxSelected)){N.find(".AddOne").addClass("ms2side__hide");N.find(".AddOne").attr("disabled",true)}else{N.find(".AddOne").removeClass("ms2side__hide");N.find(".AddOne").attr("disabled",false)}N.find(".RemoveOne, .MoveUp, .MoveDown, .MoveTop, .MoveBottom, .SelSort").addClass("ms2side__hide");N.find(".RemoveOne, .MoveUp, .MoveDown, .MoveTop, .MoveBottom, .SelSort").attr("disabled",true);if(M.size()>1){N.find(".SelSort").removeClass("ms2side__hide");N.find(".SelSort").attr("disabled",false)}if(L.size()>0){N.find(".RemoveOne").removeClass("ms2side__hide");N.find(".RemoveOne").attr("disabled",false);if(L.size()<M.size()){if(L.val()!=M.val()){N.find(".MoveUp, .MoveTop").removeClass("ms2side__hide");N.find(".MoveUp, .MoveTop").attr("disabled",false)}if(L.last().val()!=M.last().val()){N.find(".MoveDown, .MoveBottom").removeClass("ms2side__hide");N.find(".MoveDown, .MoveBottom").attr("disabled",false)}}}if(K.size()==0||(e.maxSelected>=0&&(K.size()+M.size())>=e.maxSelected)){N.find(".AddAll").addClass("ms2side__hide");N.find(".AddAll").attr("disabled",true)}else{N.find(".AddAll").removeClass("ms2side__hide");N.find(".AddAll").attr("disabled",false)}if(M.size()==0){N.find(".RemoveAll").addClass("ms2side__hide");N.find(".RemoveAll").attr("disabled",true)}else{N.find(".RemoveAll").removeClass("ms2side__hide");N.find(".RemoveAll").attr("disabled",false)}});i.dblclick(function(){c(this).find("option:selected").each(function(J,K){if(e.maxSelected<0||n.children().size()<e.maxSelected){c(this).remove().appendTo(n);k.find("option[value='"+c(K).val()+"']").remove().appendTo(k).prop("selected",true)}});c(this).trigger("change")});n.dblclick(function(){c(this).find("option:selected").each(function(J,K){c(this).remove().appendTo(i);k.find("[value='"+c(K).val()+"']").prop("selected",false).remove().appendTo(k)});c(this).trigger("change");G.val("__null__").trigger("change");q.click()});c(this).next().find(".ms2side__options").children().click(function(){if(!c(this).hasClass("ms2side__hide")){if(c(this).hasClass("AddOne")){i.find("option:selected").each(function(J,K){c(this).remove().appendTo(n);k.find("[value='"+c(K).val()+"']").remove().appendTo(k).prop("selected",true)})}else{if(c(this).hasClass("AddAll")){if(q.is(":visible")||(G.length>0&&G.val()!="__null__")){i.children().each(function(J,K){c(this).remove().appendTo(n);k.find("[value='"+c(K).val()+"']").remove().appendTo(k).prop("selected",true)})}else{i.children().remove().appendTo(n);k.find("option").prop("selected",true)}}else{if(c(this).hasClass("RemoveOne")){n.find("option:selected").each(function(J,K){c(this).remove().appendTo(i);k.find("[value='"+c(K).val()+"']").remove().appendTo(k).prop("selected",false)});q.click();G.val("__null__").trigger("change")}else{if(c(this).hasClass("RemoveAll")){n.children().appendTo(i);n.children().remove();k.find("option").prop("selected",false);q.click();G.val("__null__").trigger("change")}}}}}i.trigger("change")});c(this).next().find(".ms2side__updown").children().click(function(){var L=n.find("option:selected");var S=n.find("option");if(!c(this).hasClass("ms2side__hide")){if(c(this).hasClass("SelSort")){S.sort(b);k.find("option:selected").remove();S.each(function(){n.append(c(this).clone().prop("selected",true));k.append(c(this).prop("selected",true))})}else{if(c(this).hasClass("MoveUp")){var M=L.first().prev();var P=k.find("[value='"+M.val()+"']");L.each(function(){c(this).insertBefore(M);k.find("[value='"+c(this).val()+"']").insertBefore(P)})}else{if(c(this).hasClass("MoveDown")){var O=L.last().next();var Q=k.find("[value='"+O.val()+"']");L.each(function(){c(this).insertAfter(O);k.find("[value='"+c(this).val()+"']").insertAfter(Q)})}else{if(c(this).hasClass("MoveTop")){var N=S.first();var K=k.find("[value='"+N.val()+"']");L.each(function(){c(this).insertBefore(N);k.find("[value='"+c(this).val()+"']").insertBefore(K)})}else{if(c(this).hasClass("MoveBottom")){var R=S.last();var J=k.find("[value='"+R.val()+"']");L.each(function(){R=c(this).insertAfter(R);J=k.find("[value='"+c(this).val()+"']").insertAfter(J)})}}}}}}i.trigger("change")});c(this).next().find(".ms2side__options, .ms2side__updown").children().hover(function(){c(this).addClass("ms2side_hover")},function(){c(this).removeClass("ms2side_hover")});i.trigger("change");var E=function(){i.find("option").remove();n.find("option").remove();k.find("option:selected").clone().appendTo(n).prop("selected",false);k.find("option:not(:selected)").clone().appendTo(i);i.trigger("change");if(c(window).width()>=767){k.hide();c("#"+t).show()}else{c("#"+t).hide();k.show()}};c(window).resize(E);E()})},destroy:function(){return this.each(function(){var d=c(this);var e=d.data("multiselect2side");if(!e){return}d.show().next().remove()})},addOption:function(d){var e={name:false,value:false,selected:false};return this.each(function(){var j=c(this);var k=j.data("multiselect2side");if(!k){return}if(d){c.extend(e,d)}var i="<option value='"+e.value+"' "+(e.selected?"selected":"")+" >"+e.name+"</option>";j.append(i);var g=j.next().children(".ms2side__select").children("select");var f=(k.selectedPosition=="right")?g.eq(0):g.eq(1);var h=(k.selectedPosition=="right")?g.eq(1):g.eq(0);if(e.selected){h.append(i).trigger("change")}else{f.append(i).trigger("change")}})}};c.fn.multiselect2side=function(d){if(a[d]){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return a.init.apply(this,arguments)}else{c.error("Method "+d+" does not exist on jQuery.multiselect2side")}}}})(jQuery);